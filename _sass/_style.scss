$nord1: #3b4252 !default;
$nord2: #434c5e !default;
$nord3: #4c566a !default;

$nord4: #d8dee9 !default;
$nord5: #e5e9f0 !default;
$nord6: #eceff4 !default;

$nord7: #8fbcbb !default;
$nord8: #88c0d0 !default;
$nord9: #81a1c1 !default;
$nord10: #5e81ac !default;

$nord11: #bf616a !default;
$nord12: #d08770 !default;
$nord13: #ebcb8b !default;
$nord14: #a3be8c !default;
$nord15: #b48ead !default;

$border-radius: 4px;
$font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Helvetica, Arial,
  sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol;

body {
  box-sizing: content-box;
  font-family: $font-family;
  margin: 0 auto;
  line-height: 1.7;
  padding: 4vh 6vw;
  overflow-x: hidden;
  font-size: 1rem;
  max-width: 63em;

  @media (min-width: 820px) {
    font-size: 1.2rem;
  }
}

time {
  display: block;
  margin: 0.5em 0 1em;
}

footer {
  margin: 2em 0;
  font-size: 0.8em;
  padding-top: 1em;
}

img {
  max-width: 100%;
  display: block;
  margin: 0 auto;
  max-height: 75vh;
  border-radius: $border-radius;
}

blockquote {
  padding: 1.5em;
  margin: 0;
  font-size: 0.88em;
  border-radius: $border-radius;

  p {
    margin: 0;
  }
}

hr {
  width: 100%;
  border: 0;
  height: 1px;
  margin: 1.5em 0;
}

h1,
h2,
h3,
h4,
h5,
h6 {
  line-height: 1.3;
  margin-bottom: 0;
  padding-bottom: 0;
}

a {
  transition: background 300ms;
  padding: 0 0.1em;
  text-decoration: none;
  -o-transition:.15s;
  -ms-transition:.15s;
  -moz-transition:.15s;
  -webkit-transition:.15s;
  transition:.15s;
  &:after {
    position: relative;
    top: -0.5em;
    font-size: 0.7em;
    content: "â†—";
    animation: 1s;
  }
  &.internal-link:after,
  &.footnote:after,
  &.reversefootnote:after {
    content: "";
  }
}

*:focus {
}

nav {
  margin: 1em 0 3em;
}

#notes-entry-container {
  display: grid;
  grid-gap: 2em;
  grid-template-areas:
    "content"
    "side";

  @media (min-width: 700px) {
    grid-template-columns: 3fr 1fr;
    grid-template-areas: "content side";
  }
}

.backlink-box {
  padding: 1em;
  border-radius: $border-radius;
}

code {
  padding: 0.1em 0.2em;
  border-radius: 4px;
}

.invalid-link {
  cursor: help;
  padding: 0 0.1em;
}

.invalid-link-brackets {
  cursor: help;
}

index-123 {
  padding: 3em 1em;
  border-radius: 4px;
}

content a.internal-link {
}

#tooltip-wrapper {
  padding: 1em;
  border-radius: 4px;
  overflow: hidden;
  position: absolute;
  width: 400px;
  height: 250px;
  font-size: 0.8em;
  opacity: 0;
  transition: opacity 100ms;
}

#tooltip-wrapper:after {
  content: "";
  position: absolute;
  z-index: 1;
  bottom: 0;
  left: 0;
  pointer-events: none;
  width: 100%;
  height: 75px;
}

@media (prefers-color-scheme: dark) {
  body {
    background-color: $nord1;
    color: $nord4;

    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
      color: $nord4;
    }

    footer {
      color: $nord4;
    }

    .backlink-box {
      background: $nord2;
      border-radius: $nord3;
    }

    time {
      color: $nord4;
    }

    blockquote {
      background: darken($nord1, 5);
    }

    hr {
      background: $nord2
    }

    a {
      color: $nord4;
      border-bottom: 1px solid $nord2;
    }

    a:hover {
      color: $nord15 !important;
      background: $nord1;
    }

    a:after {
      color: $nord4;
    }

    focus {
      background: $nord3 !important;
      color: $nord4 !important;
    }

    index-123 {
      background: $nord2;
    }

    code {
      background: $nord3;
    }

    .invalid-link {
      color: $nord8;
      background: $nord3;
    }

    .invalid-link-brackets {
      color: $nord3;
    }

    content a.internal-link {
      border-color: $nord15;
      background-color: $nord3;
    }

    #tooltip-wrapper {
      background: $nord2;
      border: 1px solid $nord1;
      box-shadow: 0 5px 10px $nord3;
    }

    #tooltip-wrapper:after {
      background-image: linear-gradient(to bottom, rgba($nord1, 0), rgba($nord1, 0.9));
    }
  }
}